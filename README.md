# QKD Secure Banking Demo


This project demonstrates the integration of Quantum Key Distribution (QKD) concepts (specifically a BB84 simulation using Qiskit) and Machine Learning (for fraud detection) into a Flask-based web application simulating a secure banking portal.

It showcases how QKD could provide physics-based security for key exchange during financial transactions and how ML can add another layer of classical security.

**Disclaimer:** This is a simulation for educational and demonstration purposes only. The QKD is simulated, the ML model uses synthetic data (unless trained on real data), and the application lacks many security features of a production banking system.  
**Do NOT use this for real financial transactions.**

## üîê Core Features

- **User Authentication:** Secure registration, login, password hashing, forgot/reset password.
- **Database:** MySQL-backed, stores user, account, and transaction data.
- **QKD Simulation (BB84):** Simulates BB84 protocol with Qiskit; detects eavesdropping via QBER.
- **Secure Transactions:** Uses AES keys (via Fernet) from successful QKD runs for logging.
- **Fraud Detection (ML):** Detects suspicious activity using a trained `RandomForestClassifier`.
- **PDF Reporting:** Auto-generates reports for QKD and transaction events.
- **User Interface:** Built with Flask, Jinja2, Tailwind CSS.
- **Risk Simulation:** Placeholder analysis for portfolio optimization and CVaR risk metrics.
- **Production Ready:** `wsgi.py` included for deployment using Gunicorn or Waitress.

---

## üóÇ Project Structure

‚îú‚îÄ‚îÄ .env                  # <-- YOU create and fill this (DO NOT COMMIT)
‚îú‚îÄ‚îÄ .env.example          # <-- Contains variable placeholders
‚îú‚îÄ‚îÄ .gitignore            # <-- Specifies files/folders for Git to ignore
‚îÇ
‚îú‚îÄ‚îÄ app.py                # <-- FINAL VERSION provided
‚îú‚îÄ‚îÄ fraud_detection.py    # <-- FINAL VERSION provided (Uses ML model)
‚îú‚îÄ‚îÄ ml_fraud_model.py     # <-- FINAL VERSION provided (Loads model, preprocesses, predicts)
‚îú‚îÄ‚îÄ pdf_generator.py      # <-- FINAL VERSION provided (Generates Transaction PDF)
‚îú‚îÄ‚îÄ qkd_simulation.py     # <-- FINAL VERSION provided (Includes BB84 Sim + QKD Sim PDF generation)
‚îú‚îÄ‚îÄ requirements.txt      # <-- FINAL VERSION provided (Cleaned up dependencies)
‚îú‚îÄ‚îÄ risk_simulation.py    # <-- FINAL VERSION provided (Placeholder for risk analysis)
‚îú‚îÄ‚îÄ schema.sql            # <-- FINAL VERSION provided (Database schema)
‚îú‚îÄ‚îÄ train_fraud_model.py  # <-- FINAL VERSION provided (Offline ML training script)
‚îú‚îÄ‚îÄ wsgi.py               # <-- FINAL VERSION provided (WSGI entry point)
‚îÇ
‚îú‚îÄ‚îÄ fraud_model.joblib    # <-- Generated by running train_fraud_model.py
‚îú‚îÄ‚îÄ fraud_model_features.joblib # <-- Generated by running train_fraud_model.py
‚îÇ
‚îú‚îÄ‚îÄ static/               # <-- Folder for static files
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.css    # <-- FINAL VERSION provided (Basic placeholder)
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îú‚îÄ‚îÄ qkd.js        # <-- FINAL VERSION provided (Initializes QKD chart)
‚îÇ       ‚îî‚îÄ‚îÄ script.js     # <-- FINAL VERSION provided (Basic menu/footer JS)
‚îÇ
‚îî‚îÄ‚îÄ templates/            # <-- Folder for HTML templates
    ‚îú‚îÄ‚îÄ base.html         # <-- FINAL VERSION provided (Tailwind base layout)
    ‚îú‚îÄ‚îÄ index.html        # <-- FINAL VERSION provided (Dashboard)
    ‚îú‚îÄ‚îÄ login.html        # <-- FINAL VERSION provided (Login form)
    ‚îú‚îÄ‚îÄ register.html     # <-- FINAL VERSION provided (Registration form)
    ‚îú‚îÄ‚îÄ forgot_password.html # <-- FINAL VERSION provided
    ‚îú‚îÄ‚îÄ reset_password.html  # <-- FINAL VERSION provided
    ‚îú‚îÄ‚îÄ history.html      # <-- FINAL VERSION provided (Transaction history)
    ‚îú‚îÄ‚îÄ qkd.html          # <-- FINAL VERSION provided (QKD sim details + chart)
    ‚îú‚îÄ‚îÄ fraud.html        # <-- FINAL VERSION provided (Flagged transactions)
    ‚îú‚îÄ‚îÄ quantum_impact.html # <-- FINAL VERSION provided (Info page)
    ‚îú‚îÄ‚îÄ about.html        # <-- FINAL VERSION provided (Info page)
    ‚îú‚îÄ‚îÄ report.html       # <-- FINAL VERSION provided (Txn PDF download confirmation)
    ‚îú‚îÄ‚îÄ risk_analysis.html  # <-- FINAL VERSION provided (Risk analysis results)
    ‚îÇ
    ‚îî‚îÄ‚îÄ partials/         # <-- Folder for template snippets
        ‚îî‚îÄ‚îÄ _flashes.html # <-- FINAL VERSION provided (Renders flash messages)


## üõ† Setup Instructions

### 1. Prerequisites

- Python 3.9+
- MySQL Server
- Git
- (Optional) `bank_transactions_data_2.csv` for ML training

---

### 2. Clone the Repository

```bash
git clone https://github.com/karunchakki/fraud-detection-qkd.git
cd fraud-detection-qkd

3. üß™ Create Virtual Environment

python -m venv venv
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate

4. üì• Install Dependencies

pip install -r requirements.txt

5. üõ¢Ô∏è MySQL Database Setup

-- Log into MySQL:
CREATE DATABASE qkd_bank_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

CREATE USER 'qkd_app_user'@'localhost' IDENTIFIED BY 'your_secure_password';
GRANT ALL PRIVILEGES ON qkd_bank_db.* TO 'qkd_app_user'@'localhost';
FLUSH PRIVILEGES;

Then load the schema:
mysql -u qkd_app_user -p qkd_bank_db < schema.sql

6. üõ†Ô∏è Configure Environment Variables
# Copy the example
cp .env.example .env

  Edit .env and set:
    FLASK_SECRET_KEY ‚Üí Run: python -c "import secrets; print(secrets.token_hex(24))"
    MYSQL_USER=qkd_app_user
    MYSQL_PASSWORD=your_secure_password
    MYSQL_DB=qkd_bank_db

7. ü§ñ Train ML Fraud Model (Optional)
  Requires bank_transactions_data_2.csv in the project root.
  python train_fraud_model.py

8. üöÄ Run the Application
waitress-serve --host=0.0.0.0 --port=5001 wsgi:app
Open browser: http://127.0.0.1:5001

üí° Usage Tips
Register multiple users to test transfers.

Check ‚ÄúSimulate Eavesdropper‚Äù to see QKD failure in action.

See /history, /fraud, /qkd, and /risk-analysis for various reports.

Review PDF downloads for confirmation logs and QKD summary.

Note: Fraud detection uses synthetic labels ‚Äî this is only for demo purposes.

üß∞ Technology Stack
Backend: Python, Flask

Frontend: HTML, Jinja2, Tailwind CSS, JS (Chart.js)

Database: MySQL

QKD Simulation: Qiskit Aer

ML: Scikit-learn, Pandas, Joblib

PDF Reports: ReportLab

Auth: Werkzeug, ItsDangerous

Deployment: Waitress/Gunicorn

‚ö†Ô∏è Limitations
Simulated QKD ‚Äî no real quantum hardware.

Fraud detection based on synthetic data.

No OTP/2FA/HTTPS implemented.

Meant for research and academic demonstration only.
